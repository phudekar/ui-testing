(this["webpackJsonpui-testing"]=this["webpackJsonpui-testing"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),a=n(6),r=n.n(a),s=(n(12),n(1)),l=n(2),c=n(4),u=n(3),d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(s.a)(this,e),this._mine=void 0,this._position=void 0,this._flagged=void 0,this._nearbyBombs=void 0,this._exploded=void 0,this._revealed=void 0,this._mine=n,this._position=t,this._flagged=!1,this._revealed=!1}return Object(l.a)(e,[{key:"reveal",value:function(e){return this._revealed=!0,this._exploded=this._mine,this._nearbyBombs=e.reduce((function(e,t){return(null===t||void 0===t?void 0:t._mine)?e+1:e}),0),{mineExploded:this._exploded,nearbyBombs:this._nearbyBombs}}},{key:"flag",value:function(){this._flagged=!0}},{key:"unflag",value:function(){this._flagged=!1}},{key:"position",get:function(){return this._position}},{key:"exploded",get:function(){return this._exploded}},{key:"flagged",get:function(){return!0===this._flagged}},{key:"nearbyBombs",get:function(){return this._nearbyBombs}},{key:"revealed",get:function(){return!0===this._revealed}}]),e}(),m=function(){function e(t,n){Object(s.a)(this,e),this._row=void 0,this._column=void 0,this._row=t,this._column=n}return Object(l.a)(e,[{key:"getNeighbors",value:function(t){var n=[];return n.push(new e(this.row-1,this.column-1)),n.push(new e(this.row-1,this.column)),n.push(new e(this.row-1,this.column+1)),n.push(new e(this.row,this.column-1)),n.push(new e(this.row,this.column+1)),n.push(new e(this.row+1,this.column-1)),n.push(new e(this.row+1,this.column)),n.push(new e(this.row+1,this.column+1)),n.filter((function(e){return e.row>=0&&e.column>=0&&e.row<=t.row&&e.column<=t.column}))}},{key:"row",get:function(){return this._row}},{key:"column",get:function(){return this._column}}]),e}(),h=function(){function e(t,n){var o=this;Object(s.a)(this,e),this.rows=void 0,this.columns=void 0,this._blocks=void 0,this._minePositions=void 0,this._flaggedMines=void 0,this.rows=t,this.columns=n,this._minePositions=[],this._flaggedMines=0,this._blocks=new Array(this.rows).fill(0).map((function(e,t){return new Array(o.columns).fill(0).map((function(e,n){return new d(new m(t,n))}))}))}return Object(l.a)(e,[{key:"allMinesFlagged",value:function(){return this._flaggedMines===this._minePositions.length}},{key:"plantMines",value:function(e){var t=this;this._minePositions=e,e.forEach((function(e){t._blocks[e.row][e.column]=new d(e,!0)}))}},{key:"toggleFlag",value:function(e){var t=this.blocks[e.row][e.column];t.flagged?(t.unflag(),this._minePositions.includes(t.position)&&(this._flaggedMines-=1)):(t.flag(),this._minePositions.includes(t.position)&&(this._flaggedMines+=1))}},{key:"reveal",value:function(e){var t=this,n=this.blocks[e.row][e.column],o=n.position.getNeighbors(new m(this.rows-1,this.columns-1)).map((function(e){return t.blocks[e.row][e.column]})),i=n.reveal(o),a=i.mineExploded,r=i.nearbyBombs;return a?(this._minePositions.forEach((function(e){t._blocks[e.row][e.column].reveal([])})),{mineExploded:!0,nearbyBombs:-1}):(0===r&&o.forEach((function(e){return e&&!e.revealed&&!e.flagged&&t.reveal(e.position)})),{mineExploded:a,nearbyBombs:r})}},{key:"blocks",get:function(){return this._blocks}}]),e}(),v=function(e){var t=e.block,n=e.onReveal,o=e.toggleFlagged,a=e.disabled,r=void 0!==a&&a,s=(null===t||void 0===t?void 0:t.position)||{};return i.a.createElement("div",{className:"block".concat((null===t||void 0===t?void 0:t.revealed)?" revealed":""),"data-testid":"block-".concat(s.row,"-").concat(s.column),onClick:function(){return!r&&n&&n()},onContextMenu:function(e){e.preventDefault(),!r&&o&&o()}},t.revealed?(null===t||void 0===t?void 0:t.exploded)?i.a.createElement("div",{className:"bomb"}):i.a.createElement("div",{className:"nearby-bombs"},t.nearbyBombs||""):(null===t||void 0===t?void 0:t.flagged)?i.a.createElement("div",{className:"flag"}):i.a.createElement("div",{className:"mine"}))},g=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state=void 0,o.state={board:o.props.board},o}return Object(l.a)(n,[{key:"reveal",value:function(e){this.state.board.reveal(e.position).mineExploded&&this.props.onGameOver&&this.props.onGameOver(),this.setState({board:this.state.board})}},{key:"toggleFlagged",value:function(e){this.state.board.toggleFlag(e.position),this.state.board.allMinesFlagged()&&this.props.onGameComplete&&this.props.onGameComplete(),this.setState({board:this.state.board})}},{key:"render",value:function(){var e,t,n=this;return i.a.createElement("div",{"data-testid":"board",className:"board"},null===(e=this.state.board)||void 0===e||null===(t=e.blocks)||void 0===t?void 0:t.map((function(e,t){return i.a.createElement("div",{key:"r"+(t+1),className:"row"},e.map((function(e,o){return i.a.createElement(v,{key:"b-".concat(t+1,"-").concat(o+1),block:e,disabled:n.props.disabled,onReveal:function(){return n.reveal(e)},toggleFlagged:function(){return n.toggleFlagged(e)}})})))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{board:e.board}}}]),n}(i.a.Component),f=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(s.a)(this,n),(o=t.call(this,e)).state=void 0,o.state={board:o.getBoard(10,10,10)},o}return Object(l.a)(n,[{key:"getBoard",value:function(e,t,n){var o=new h(e,t);return o.plantMines(b(e,t,n)),o}},{key:"onGameOver",value:function(){this.setState({gameOver:!0})}},{key:"onGameComplete",value:function(){this.setState({gameComplete:!0})}},{key:"reset",value:function(){this.setState({board:this.getBoard(10,10,10),gameOver:!1,gameComplete:!1})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement("div",{className:"title"},"Minesweeper"),this.state.gameComplete&&i.a.createElement("div",{className:"success"},"Congratulations! You flagged all the mines.",i.a.createElement("div",null,i.a.createElement("button",{className:"retry-button",onClick:function(){return e.reset()}},"Play Again"))),i.a.createElement(g,{board:this.state.board,disabled:this.state.gameOver||this.state.gameComplete,onGameOver:function(){return e.onGameOver()},onGameComplete:function(){return e.onGameComplete()}}),!0===this.state.gameOver&&i.a.createElement("div",{className:"overlay"},i.a.createElement("div",{className:"game-over"},"Game Over!"),i.a.createElement("button",{className:"retry-button",onClick:function(){return e.reset()}},"Retry")))}}]),n}(i.a.Component),b=function(e,t,n){for(var o=[],i=function(n){var i=Math.floor(Math.random()*e),r=Math.floor(Math.random()*t);o.find((function(e){return e.row===i&&e.column===r}))?n--:o.push(new m(i,r)),a=n},a=0;a<n;a++)i(a);return o},p=f;n(13);var w=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(p,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,n){e.exports=n(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.a5b0cabd.chunk.js.map